<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>

    </head>

    <body>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
        <script type="application/javascript">
            $(document).ready(function() {
                function createFamilyTree() {
                    $('body').append($("<table></table>")
                        .append($("<thead></thead>")
                            .append($("<tr></tr>")
                                .append($("<th></th>").text('Firstname'))
                                .append($("<th></th>").text('Lastname')))
                        )
                        .append($("<tbody></tbody>"))
                    )
                }
                function addNewMember(firstName, lastName, position) {
                    if (position === 'before') {
                        $('tbody').prepend($("<tr></tr>").addClass(firstName + lastName)
                        .append($("<td></td>").text(firstName))
                        .append($("<td></td>").text(lastName))
                        .append($("<td></td>").text('(x)').css("background-color", "orange")).click(function () {
                            $("." + firstName + lastName).remove();
                            })
                        )
                    } else {
                        $('tbody').append($("<tr></tr>").addClass(firstName + lastName)
                            .append($("<td></td>").text(firstName))
                            .append($("<td></td>").text(lastName))
                            .append($("<td></td>").text('(x)').css("background-color", "orange")).click(function () {
                                $("." + firstName + lastName).remove();
                            })
                        )
                    }

                }
                function createForm() {
                    $('table').before($("<input type=text>"));
                    $('table').before($("<input type=text>"));
                    $('table').before($("<select></select>"));
                    $('select').append($("<option value='before'></option>").text('Before'));
                    $('select').append($("<option value='after'></option>").text('After'));
                    $('table').before($("<input type=submit class='submit'></input>"));
                    $('.submit').click(function() {
                        addNewMember($("input").val(), $("input:nth-of-type(2)").val(), $("select").val());
                    })
                }
                createFamilyTree();
                createForm();
            })
        </script>
    </body>

</html>
